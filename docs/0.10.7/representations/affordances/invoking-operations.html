
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Operations Â· Alcaeus Hydra client</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-etoc/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-forkmegithub/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="finding-operations.html" />
    
    
    <link rel="prev" href="collection-property.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../readme.html">
            
                <a href="../readme.html">
            
                    
                    Resource representations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../hydra.html">
            
                <a href="../hydra.html">
            
                    
                    Hydra resources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../get.html">
            
                <a href="../get.html">
            
                    
                    Getting specific resource
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../root.html">
            
                <a href="../root.html">
            
                    
                    Root resource
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../by-type.html">
            
                <a href="../by-type.html">
            
                    
                    Selecting by type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../iterating.html">
            
                <a href="../iterating.html">
            
                    
                    Iterating resources
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../resource-objects.html">
            
                <a href="../resource-objects.html">
            
                    
                    Resource objects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../collections.html">
            
                <a href="../collections.html">
            
                    
                    Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../resource-properties.html">
            
                <a href="../resource-properties.html">
            
                    
                    Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../mixins.html">
            
                <a href="../mixins.html">
            
                    
                    Extending resources
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../resource-affordances.html">
            
                <a href="../resource-affordances.html">
            
                    
                    Affordances
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="links.html">
            
                <a href="links.html">
            
                    
                    hydra:Link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="collection-property.html">
            
                <a href="collection-property.html">
            
                    
                    hydra:collection
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.3.3" data-path="invoking-operations.html">
            
                <a href="invoking-operations.html">
            
                    
                    Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="finding-operations.html">
            
                <a href="finding-operations.html">
            
                    
                    Finding operations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../api-documentation/readme.html">
            
                <a href="../../api-documentation/readme.html">
            
                    
                    API Documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../api-documentation/entrypoint.html">
            
                <a href="../../api-documentation/entrypoint.html">
            
                    
                    Entrypoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../api-documentation/class.html">
            
                <a href="../../api-documentation/class.html">
            
                    
                    Supported classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../api-documentation/supported-property.html">
            
                <a href="../../api-documentation/supported-property.html">
            
                    
                    Supported properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../api-documentation/operation.html">
            
                <a href="../../api-documentation/operation.html">
            
                    
                    Supported operations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Other
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../js-api/request-headers.html">
            
                <a href="../../js-api/request-headers.html">
            
                    
                    Request headers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../js-api/media-type-processor.html">
            
                <a href="../../js-api/media-type-processor.html">
            
                    
                    Media types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../hydra-vocab.html">
            
                <a href="../../hydra-vocab.html">
            
                    
                    Hydra vocabulary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../js-api/base-url.html">
            
                <a href="../../js-api/base-url.html">
            
                    
                    Base URL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Operations</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="operations">Operations</h1>
<!-- toc --><div id="toc" class="toc">

<ul>
<li><a href="#invoking">Invoking</a></li>
<li><a href="#media-type">Media type</a></li>
<li><a href="#target">Target</a></li>
</ul>

</div><!-- tocstop -->
<h2 id="invoking">Invoking</h2>
<p>When the client gets hold of an <code>Operation</code> object, they can <em>invoke</em>, which
performs an actual web request according to the operation&apos;s description.</p>
<p>The <code>invoke</code> method has a single required parameter: the body. It it expected to
be any of the body types accepted by <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters" target="_blank"><code>fetch</code></a> body parameter.</p>
<p><pre class="pg-runkit">
const { Hydra } = require(&quot;alcaeus@0.10.7&quot;);

// get the issues collection &amp; fetch the first member
const rep = await Hydra.loadResource(&apos;http://www.markus-lanthaler.com/hydra/api-demo/issues/&apos;);
const issue = (await rep.root.members[0].load()).root

// find POST operation on the `#Issue/comments` property
const comments = issue[&apos;http://www.markus-lanthaler.com/hydra/api-demo/vocab#Issue/comments&apos;]
const operation = comments.operations.find(o =&gt; o.method === &apos;POST&apos;)

// prepare the request body
const newComment = {
   &apos;@context&apos;: {
     &apos;@vocab&apos;: &apos;http://www.markus-lanthaler.com/hydra/api-demo/vocab#&apos;
   },
   &apos;@type&apos;: &apos;Comment&apos;,
   &apos;Comment/text&apos;: &apos;Comment from Alcaeus doc pages&apos;
 }

// invoke the operation
await operation.invoke(JSON.stringify(newComment))
</pre></p>
<p><div class="alert alert-danger hints-alert"><div class="hints-icon"><i class="fa fa-exclamation-circle"></i></div><div class="hints-container"><p> Note that the <code>invoke</code> method does not accept objects. If the client operates on JSON-LD
 objects, the body must be serialized as shown above.</p>
</div></div></p>
<h2 id="media-type">Media type</h2>
<p>By default the operation request will be sent with <code>application/ld+json</code> content type. If the client
wishes to send the payload in another format, the second parameter can be used to set the correct
header value.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p> Sending <code>FormData</code> object, such as when uploading files with multipart request,
 will not set the content-type to let the <code>fetch</code> implementation set it with correct
 boundary.</p>
</div></div></p>
<p><pre class="pg-runkit">
const { Hydra } = require(&quot;alcaeus@0.10.7&quot;);

// get the issues collection &amp; fetch the first member
const rep = await Hydra.loadResource(&apos;http://www.markus-lanthaler.com/hydra/api-demo/issues/&apos;);
const issue = (await rep.root.members[0].load()).root

// find POST operation on the `#Issue/comments` property
const comments = issue[&apos;http://www.markus-lanthaler.com/hydra/api-demo/vocab#Issue/comments&apos;]
const operation = comments.operations.find(o =&gt; o.method === &apos;POST&apos;)

// prepare the request body
const newCommentTurtle = `
@prefix : &lt;http://www.markus-lanthaler.com/hydra/api-demo/vocab#&gt; .
@prefix comment: &lt;http://www.markus-lanthaler.com/hydra/api-demo/vocab#Comment/&gt; .

&lt;&gt; a :Comment ;
   comment:text &quot;Comment from Alcaeus doc pages&quot; .`

// invoke the operation
await operation.invoke(newCommentTurtle, &apos;text/turtle&apos;)
</pre></p>
<h2 id="target">Target</h2>
<p>Currently the operation is always invoked on the resource it is attached to as this is
the design of Hydra at the moment. The original resource which declared the operation can
be accessed using a property of an <code>Operation</code> object.</p>
<p><pre class="pg-runkit">
const { Hydra } = require(&quot;alcaeus@0.10.7&quot;);

// get the operation
const root = (await Hydra.loadResource(&apos;https://hydra-movies.herokuapp.com/&apos;)).root;
const collection = root.getCollections()[0]
const operation = collection.operations[0]

// proof
operation.target.id === collection.id
</pre></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="collection-property.html" class="navigation navigation-prev " aria-label="Previous page: hydra:collection">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="finding-operations.html" class="navigation navigation-next " aria-label="Next page: Finding operations">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Operations","level":"1.2.3.3","depth":3,"next":{"title":"Finding operations","level":"1.2.3.4","depth":3,"path":"representations/affordances/finding-operations.md","ref":"representations/affordances/finding-operations.md","articles":[]},"previous":{"title":"hydra:collection","level":"1.2.3.2","depth":3,"path":"representations/affordances/collection-property.md","ref":"representations/affordances/collection-property.md","articles":[]},"dir":"ltr"},"config":{"plugins":["runkit","hints","etoc","forkmegithub","advanced-emoji"],"root":"./gitbook","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"etoc":{"mindepth":2,"maxdepth":4,"header":1,"h2lb":3,"notoc":false},"search":{},"runkit":{},"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-circle","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"forkmegithub":{"color":"darkblue","url":"https://github.com/wikibus/alcaeus"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"version":"0.10.7"},"title":"Alcaeus Hydra client","gitbook":"*"},"file":{"path":"representations/affordances/invoking-operations.md","mtime":"2020-04-22T12:16:25.287Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-23T10:57:50.818Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://embed.runkit.com"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-runkit/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-etoc/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-forkmegithub/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

